/*
 *****************************************************************************
 Copyright (c) Microsoft Corporation. All rights reserved.
 Licensed under the Apache License, Version 2.0 (the "License"); you may not use
 this file except in compliance with the License. You may obtain a copy of the
 License at http://www.apache.org/licenses/LICENSE-2.0

 THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
 WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
 MERCHANTABLITY OR NON-INFRINGEMENT.

 See the Apache Version 2.0 License for specific language governing permissions
 and limitations under the License.
*****************************************************************************/
var q=this;
function r(m){function t(c,b){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f])};return t(c,b)}function w(c,b){function a(){this.constructor=c}t(c,b);c.prototype=null===b?Object.create(b):(a.prototype=b.prototype,new a)}function u(c){var b="function"===typeof Symbol&&c[Symbol.iterator],a=0;return b?b.call(c):{next:function(){c&&a>=c.length&&(c=void 0);return{value:c&&c[a++],done:!c}}}}var A={enter:function(c,
b){c.children.length||b.push(c)}},B={enter:function(c,b){b.push(c)}},y=function(){function c(){this.parent=null;this.children=[]}c.prototype.addNode=function(b){if(this.hasAncestor(b))throw Error("The node added is one of the ancestors of current one.");this.children.push(b);b.parent=this;return this};c.prototype.depth=function(b){var a,d;void 0===b&&(b=this);if(b.children.length){var f=[];try{for(var g=u(b.children),h=g.next();!h.done;h=g.next()){var k=h.value;k&&f.push(this.depth(k))}}catch(v){var n=
{error:v}}finally{try{h&&!h.done&&(a=g.return)&&a.call(g)}finally{if(n)throw n.error;}}b=0;try{for(var p=u(f),l=p.next();!l.done;l=p.next())k=l.value,b=Math.max(b,k)}catch(v){var x={error:v}}finally{try{l&&!l.done&&(d=p.return)&&d.call(p)}finally{if(x)throw x.error;}}return 1+b}return 1};c.prototype.findLeaves=function(){var b=[];this.traverse(A,b);return b};c.prototype.findRoot=function(b){void 0===b&&(b=this);return b.parent?this.findRoot(b.parent):b};c.prototype.hasAncestor=function(b){return this.parent?
this.parent===b?!0:this.parent.hasAncestor(b):!1};c.prototype.removeNode=function(b){this.children.includes(b)&&(this.children.splice(this.children.indexOf(b),1),b.parent=null);return this};c.prototype.traverse=function(b,a){var d;b.enter&&b.enter(this,a);b.visit&&b.visit(this,a);try{for(var f=u(this.children),g=f.next();!g.done;g=f.next()){var h=g.value;h&&h.traverse(b,a)}}catch(n){var k={error:n}}finally{try{g&&!g.done&&(d=f.return)&&d.call(f)}finally{if(k)throw k.error;}}b.leave&&b.leave(this,
a);return this};c.prototype.toArray=function(){var b=[];this.traverse(B,b);return b};return c}(),z=function(c){function b(a){var d=c.call(this)||this;d.parent=null;d.data=null;d.children=[];d.data=a;return d}w(b,c);return b}(y),e,C=function(c){function b(){var a=null!==c&&c.apply(this,arguments)||this;a.children=[null,null];a.parent=null;return a}w(b,c);b.prototype.addNode=function(a){if(this.compare(a))if(this.children[1])this.children[1].addNode(a);else{if(this.hasAncestor(a))throw Error("The node added is one of the ancestors of current one.");
this.children[1]=a;a.parent=this}else if(this.children[0])this.children[0].addNode(a);else{if(this.hasAncestor(a))throw Error("The node added is one of the ancestors of current one.");this.children[0]=a;a.parent=this}return this};Object.defineProperty(b.prototype,"left",{get:function(){return this.children[0]},set:function(a){(e=this.children[0])&&this.removeNode(e);if(this.children[0]=a)a.parent=this},enumerable:!0,configurable:!0});b.prototype.removeNode=function(a){this.children.includes(a)&&(this.children[this.children.indexOf(a)]=
null,a.parent=null);return this};Object.defineProperty(b.prototype,"right",{get:function(){return this.children[1]},set:function(a){(e=this.children[1])&&this.removeNode(e);if(this.children[1]=a)a.parent=this},enumerable:!0,configurable:!0});b.prototype.traverseInOrder=function(a,d){e=this.children[0];a.enter&&a.enter(this,d);e&&e.traverseInOrder(a,d);a.visit&&a.visit(this,d);(e=this.children[1])&&e.traverseInOrder(a,d);a.leave&&a.leave(this,d);return this};b.prototype.traversePostOrder=function(a,
d){e=this.children[0];a.enter&&a.enter(this,d);e&&e.traversePostOrder(a,d);(e=this.children[1])&&e.traversePostOrder(a,d);a.visit&&a.visit(this,d);a.leave&&a.leave(this,d);return this};b.prototype.traversePreOrder=function(a,d){e=this.children[0];a.enter&&a.enter(this,d);a.visit&&a.visit(this,d);e&&e.traversePreOrder(a,d);(e=this.children[1])&&e.traversePreOrder(a,d);a.leave&&a.leave(this,d);return this};return b}(z);m.AbstractBinaryTreeNode=C;m.AbstractTreeNode=y;m.TreeNode=z;Object.defineProperty(m,
"__esModule",{value:!0})}"object"===typeof exports&&"undefined"!==typeof module?r(exports):"function"===typeof define&&define.a?define(["exports"],r):(q=q||self,r(q.Tree={}));
